(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[5],{38:function(e,t,a){"use strict";t.a={COUNTRY:"Country/Region",STATE:"Province/State",LAST_UPDATE:"Last Update",CONFIRMED:"Confirmed",DEATHS:"Deaths",RECOVERED:"Recovered",LATITUDE:"Latitude",LONGITUDE:"Longitude",NEW_CASES:"NewCases"}},40:function(e,t,a){"use strict";var n=a(8),r=a(9),s=a(11),o=a(10),c=a(12),l=a(0),i=a.n(l),u=a(39),p=a.n(u),E=a(38),m=a(17),d=function(e,t){var a=10*t,n=a-10;return e.slice(n,a)},h=function(e){function t(e,a){var r;return Object(n.a)(this,t),(r=Object(s.a)(this,Object(o.a)(t).call(this,e,a))).sortData=function(e){var t=parseInt(e.target.value),a=r.state.data.slice();a.sort((function(e,a){return a[t]-e[t]})),r.setState({data:a,currentPage:1,dataDisplayed:d(a,1)})},r.state={data:[],dataDisplayed:[],currentPage:1,totalPages:1,currentCountry:r.props.country},r}return Object(c.a)(t,e),Object(r.a)(t,[{key:"updateData",value:function(){var e=function(e,t,a){var n=[],r={};if(t){for(var s in e.covidData){var o=e.covidData[s],c=o[E.a.COUNTRY];r[c]?(r[c][E.a.CONFIRMED]+=parseInt(o[E.a.CONFIRMED]),r[c][E.a.DEATHS]+=parseInt(o[E.a.DEATHS]),r[c][E.a.RECOVERED]+=parseInt(o[E.a.RECOVERED]),r[c][E.a.NEW_CASES]+=parseInt(o[E.a.NEW_CASES])):(r[c]={},r[c][E.a.CONFIRMED]=parseInt(o[E.a.CONFIRMED]),r[c][E.a.DEATHS]=parseInt(o[E.a.DEATHS]),r[c][E.a.RECOVERED]=parseInt(o[E.a.RECOVERED]),r[c][E.a.NEW_CASES]=parseInt(o[E.a.NEW_CASES]))}for(var l in r){var i=r[l],u=i.Confirmed,p=i.Deaths,m=i.Recovered,d=i.NewCases;n.push([l,u,d,p,m])}}else for(var h in e.covidData){var v=e.covidData[h];if(v[E.a.COUNTRY]===a){var y=v[E.a.STATE],C=v[E.a.CONFIRMED],f=v[E.a.DEATHS],N=v[E.a.RECOVERED],D=v[E.a.NEW_CASES];n.push([y,C,D,f,N])}}return n}(this.context.data,this.props.groupByCountry,this.props.country),t=Math.ceil(e.length/10);this.setState({data:e,totalPages:t,dataDisplayed:d(e,this.state.currentPage),currentCountry:this.props.country})}},{key:"componentDidMount",value:function(){0===this.state.data.length&&this.updateData()}},{key:"componentDidUpdate",value:function(){this.props.country!==this.state.currentCountry&&this.updateData()}},{key:"toPage",value:function(e){var t=e?this.state.currentPage-1:this.state.currentPage+1,a=d(this.state.data,t);this.setState({dataDisplayed:a,currentPage:t})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h2",null,this.state.currentCountry),i.a.createElement("h4",null,this.props.groupByCountry?"Countries/Regions":"States/Provinces"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"input-group mb-3 col-8 col-md-4 col-lg-3"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Sort By")),i.a.createElement("select",{className:"custom-select",id:"inputGroupSelect01",onChange:this.sortData,defaultValue:""},i.a.createElement("option",{value:"",disabled:!0},"--Select One--"),i.a.createElement("option",{value:"1"},"Total Cases"),i.a.createElement("option",{value:"2"},"New Cases"),i.a.createElement("option",{value:"3"},"Deaths"),i.a.createElement("option",{value:"4"},"Recovered")))),i.a.createElement("table",{className:"table table-striped table-responsive-md"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,this.props.groupByCountry?"COUNTRY":"STATE"),i.a.createElement("th",{className:"text-primary"},"TOTAL"),i.a.createElement("th",{className:"text-warning"},"NEW"),i.a.createElement("th",{className:"text-danger"},"DEATHS"),i.a.createElement("th",{className:"text-success"},"RECOVERED"))),i.a.createElement("tbody",null,this.state.dataDisplayed.map((function(t,a){return i.a.createElement("tr",{key:t[0]},i.a.createElement("td",null,10*(e.state.currentPage-1)+a+1),i.a.createElement("td",null,t[0]),i.a.createElement("td",{className:"text-primary"},p()(t[1]).format("0,0")),i.a.createElement("td",{className:"text-warning"},p()(t[2]).format("0,0")),i.a.createElement("td",{className:"text-danger"},p()(t[3]).format("0,0")),i.a.createElement("td",{className:"text-success"},p()(t[4]).format("0,0")))})))),i.a.createElement("div",{className:"d-flex justify-content-center p-3"},i.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:1===this.state.currentPage,onClick:function(){return e.toPage(!0)}},"Prev"),i.a.createElement("button",{type:"button",className:"btn btn-secondary ml-1",disabled:this.state.currentPage===this.state.totalPages,onClick:function(){return e.toPage(!1)}},"Next")))}}]),t}(i.a.Component);h.contextType=m.b,t.a=h},47:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(9),s=a(11),o=a(10),c=a(12),l=a(0),i=a.n(l),u=a(43),p=a.n(u),E=a(40),m=a(17),d=a(38),h=function(e,t,a){var n=parseFloat(e[a][d.a.LATITUDE]),r=parseFloat(e[a][d.a.LONGITUDE]);t.flyTo({center:[r,n],zoom:6})},v=function(e,t,a){(function(e){var t={type:"FeatureCollection",features:[]};for(var a in e){var n=e[a][d.a.STATE],r=e[a][d.a.COUNTRY],s=parseInt(e[a][d.a.CONFIRMED]),o=parseInt(e[a][d.a.NEW_CASES]),c=parseInt(e[a][d.a.DEATHS]),l=parseInt(e[a][d.a.RECOVERED]),i=parseFloat(e[a][d.a.LATITUDE]),u=parseFloat(e[a][d.a.LONGITUDE]),p=""!==n?n+" - "+r:r,E={type:"Feature"};E.geometry={type:"Point",coordinates:[u,i]},E.properties={title:p,totalCases:s,newCases:o,deaths:c,recovered:l,description:"\n                        <strong>".concat(p,"</strong><br/>\n                        Confirmed: ").concat(s,"<br/>\n                        New Cases: ").concat(o,"<br/>\n                        Deaths: ").concat(c,"<br/>\n                        Recovered: ").concat(l,"\n                        ")},t.features.push(E)}return t})(e).features.forEach((function(e){var n=document.createElement("div");n.className="marker",new a.Marker(n).setLngLat(e.geometry.coordinates).setPopup(new a.Popup({offset:25}).setHTML(e.properties.description)).addTo(t)}))};p.a.accessToken="pk.eyJ1IjoiZHp1b25nbGQiLCJhIjoiY2p5ZDM5OWJsMG5yYTNtczVuaW9oZGE5aSJ9.KyTQMpcmRFN8Fu_wB1lz1w";var y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={country:"Australia",data:{}},a.map=null,a.onCountryChange=function(e){var t=e.target.value,n=a.state.data[t][d.a.COUNTRY];h(a.state.data,a.map,t),a.setState({country:n})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){0===Object.entries(this.state.data).length&&this.setState({data:this.context.data.covidData}),this.map=new p.a.Map({container:this.mapContainer,style:"mapbox://styles/dzuongld/ck7stm0id1l9t1inuoudjp6oy"}),v(this.context.data.covidData,this.map,p.a)}},{key:"extractNames",value:function(e){var t=[];for(var a in e){var n=e[a][d.a.COUNTRY],r=e[a][d.a.STATE],s=""!==r?n+" - "+r:n;t.push([a,s])}return t.sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0})),t}},{key:"render",value:function(){var e=this,t=this.extractNames(this.state.data);return i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"input-group my-3  col-12 col-md-7"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Location")),i.a.createElement("select",{className:"custom-select",id:"inputGroupSelect01",onChange:this.onCountryChange,defaultValue:""},i.a.createElement("option",{value:"",disabled:!0},"--Select One--"),t.map((function(e){return i.a.createElement("option",{key:e[0],value:e[0]},e[1])}))))),i.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}),i.a.createElement(E.a,{groupByCountry:!1,country:this.state.country}))}}]),t}(i.a.Component);y.contextType=m.b;t.default=y}}]);
//# sourceMappingURL=5.0f4fccdc.chunk.js.map